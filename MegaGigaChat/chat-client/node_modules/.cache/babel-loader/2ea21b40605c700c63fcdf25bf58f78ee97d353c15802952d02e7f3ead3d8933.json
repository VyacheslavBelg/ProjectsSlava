{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\slava\\\\Desktop\\\\\\u0423\\u043D\\u0438\\u0432\\u0435\\u0440\\\\3 \\u043A\\u0443\\u0440\\u0441\\\\RIP\\\\MegaGigaChat\\\\ChatApp2.0\\\\chat-client\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { HubConnectionBuilder, LogLevel } from '@microsoft/signalr';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css'; // Создадим этот файл позже\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  // Состояние соединения\n  const [connection, setConnection] = useState(null);\n\n  // Состояние UI\n  const [messages, setMessages] = useState([]);\n  const [username, setUsername] = useState('');\n  const [roomId, setRoomId] = useState('');\n  const [roomName, setRoomName] = useState(''); // Для создания\n  const [isInRoom, setIsInRoom] = useState(false);\n  const [inputText, setInputText] = useState('');\n\n  // Ссылка на div с сообщениями для авто-скролла\n  const messagesEndRef = useRef(null);\n\n  // 1. Инициализация соединения\n  useEffect(() => {\n    const newConnection = new HubConnectionBuilder().withUrl(\"http://localhost:5000/chatHub\") // УБЕДИТЕСЬ, ЧТО ПОРТ СОВПАДАЕТ С БЭКЕНДОМ\n    .withAutomaticReconnect().configureLogging(LogLevel.Information).build();\n    setConnection(newConnection);\n  }, []);\n\n  // 2. Настройка обработчиков событий (при изменении connection)\n  useEffect(() => {\n    if (connection) {\n      connection.start().then(() => {\n        console.log('Connected to SignalR Hub');\n\n        // Обработка входящих сообщений\n        connection.on(\"ReceiveMessage\", message => {\n          setMessages(prev => [...prev, message]);\n        });\n\n        // Обработка истории сообщений (при входе)\n        connection.on(\"ReceiveRoomHistory\", history => {\n          setMessages(history);\n        });\n\n        // Обработка ошибок\n        connection.on(\"ReceiveError\", errorMsg => {\n          alert(`Error: ${errorMsg.text}`);\n          setIsInRoom(false); // Выкидываем обратно в лобби\n        });\n      }).catch(e => console.log('Connection failed: ', e));\n    }\n  }, [connection]);\n\n  // Авто-скролл вниз при новом сообщении\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, [messages]);\n\n  // --- Функции действий ---\n\n  const createRoom = async () => {\n    if (!username) return alert(\"Enter username!\");\n    try {\n      const request = {\n        username,\n        roomName\n      };\n      // Бэкенд возвращает roomId (строку)\n      const newRoomId = await (connection === null || connection === void 0 ? void 0 : connection.invoke(\"CreateRoom\", request));\n      setRoomId(newRoomId);\n      setIsInRoom(true);\n      setMessages([]); // Очистка при новом создании\n    } catch (e) {\n      console.error(e);\n    }\n  };\n  const joinRoom = async () => {\n    if (!username || !roomId) return alert(\"Enter username and Room ID!\");\n    try {\n      const request = {\n        username,\n        roomId\n      };\n      // Бэкенд возвращает bool\n      const success = await (connection === null || connection === void 0 ? void 0 : connection.invoke(\"JoinRoom\", request));\n      if (success) {\n        setIsInRoom(true);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  };\n  const sendMessage = async () => {\n    if (!inputText) return;\n    try {\n      const msg = {\n        user: username,\n        text: inputText,\n        type: 'text',\n        timestamp: '' // Бэкенд сам проставит время\n      };\n      await (connection === null || connection === void 0 ? void 0 : connection.invoke(\"SendMessageToRoom\", msg));\n      setInputText('');\n    } catch (e) {\n      console.error(e);\n    }\n  };\n  const leaveRoom = async () => {\n    try {\n      await (connection === null || connection === void 0 ? void 0 : connection.invoke(\"LeaveRoom\"));\n      setIsInRoom(false);\n      setMessages([]);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n  const deleteRoom = async () => {\n    if (!window.confirm(\"Are you sure? Only the creator can delete the room.\")) return;\n    try {\n      await (connection === null || connection === void 0 ? void 0 : connection.invoke(\"DeleteRoom\", roomId, username));\n      // Если успех, сервер пришлет всем (включая нас) сообщение System,\n      // а затем удалит из группы.\n      // Но мы можем и принудительно выйти в UI:\n      setIsInRoom(false);\n      setMessages([]);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  // --- Рендеринг ---\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: !isInRoom ?\n    /*#__PURE__*/\n    // --- LOBBY SCREEN ---\n    _jsxDEV(\"div\", {\n      className: \"card p-4 mx-auto\",\n      style: {\n        maxWidth: '500px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center mb-4\",\n        children: \"SignalR Chat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          placeholder: \"Enter your name\",\n          value: username,\n          onChange: e => setUsername(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Join Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          placeholder: \"Room ID\",\n          value: roomId,\n          onChange: e => setRoomId(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: joinRoom,\n          children: \"Join\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Create Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          placeholder: \"Room Name (Optional)\",\n          value: roomName,\n          onChange: e => setRoomName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-success w-100\",\n        onClick: createRoom,\n        children: \"Create New Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }, this) :\n    /*#__PURE__*/\n    // --- CHAT ROOM SCREEN ---\n    _jsxDEV(\"div\", {\n      className: \"card mx-auto\",\n      style: {\n        maxWidth: '800px',\n        height: '80vh'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header d-flex justify-content-between align-items-center bg-primary text-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"mb-0\",\n          children: [\"Room: \", roomId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-sm btn-danger me-2\",\n            onClick: deleteRoom,\n            children: \"Delete Room\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-sm btn-warning\",\n            onClick: leaveRoom,\n            children: \"Leave\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body overflow-auto d-flex flex-column\",\n        style: {\n          flex: 1,\n          backgroundColor: '#f8f9fa'\n        },\n        children: [messages.map((msg, idx) => {\n          const isMyMessage = msg.user === username;\n          const isSystem = msg.type === 'system' || msg.type === 'join' || msg.type === 'leave';\n          if (isSystem) {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center text-muted small my-2\",\n              children: /*#__PURE__*/_jsxDEV(\"em\", {\n                children: [msg.text, \" - \", msg.timestamp]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 41\n              }, this)\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 37\n            }, this);\n          }\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `d-flex mb-3 ${isMyMessage ? 'justify-content-end' : 'justify-content-start'}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `card px-3 py-2 ${isMyMessage ? 'bg-primary text-white' : 'bg-white'}`,\n              style: {\n                maxWidth: '70%',\n                borderRadius: '15px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"small fw-bold mb-1\",\n                style: {\n                  opacity: 0.8\n                },\n                children: msg.user\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: msg.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"small text-end mt-1\",\n                style: {\n                  opacity: 0.7,\n                  fontSize: '0.7em'\n                },\n                children: msg.timestamp\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 37\n            }, this)\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 33\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-footer\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"Type a message...\",\n            value: inputText,\n            onChange: e => setInputText(e.target.value),\n            onKeyDown: e => e.key === 'Enter' && sendMessage()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: sendMessage,\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 9\n  }, this);\n};\n_s(App, \"FXwd9KZoNVwbgbDTHxeQ/8tFWC0=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","HubConnectionBuilder","LogLevel","jsxDEV","_jsxDEV","App","_s","connection","setConnection","messages","setMessages","username","setUsername","roomId","setRoomId","roomName","setRoomName","isInRoom","setIsInRoom","inputText","setInputText","messagesEndRef","newConnection","withUrl","withAutomaticReconnect","configureLogging","Information","build","start","then","console","log","on","message","prev","history","errorMsg","alert","text","catch","e","_messagesEndRef$curre","current","scrollIntoView","behavior","createRoom","request","newRoomId","invoke","error","joinRoom","success","sendMessage","msg","user","type","timestamp","leaveRoom","deleteRoom","window","confirm","className","children","style","maxWidth","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","target","onClick","height","flex","backgroundColor","map","idx","isMyMessage","isSystem","borderRadius","opacity","fontSize","ref","onKeyDown","key","_c","$RefreshReg$"],"sources":["C:/Users/slava/Desktop/Универ/3 курс/RIP/MegaGigaChat/ChatApp2.0/chat-client/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { HubConnection, HubConnectionBuilder, LogLevel } from '@microsoft/signalr';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css'; // Создадим этот файл позже\nimport { ChatMessageDto, CreateRoomRequest, JoinRoomRequest } from './types';\n\nconst App: React.FC = () => {\n    // Состояние соединения\n    const [connection, setConnection] = useState<HubConnection | null>(null);\n    \n    // Состояние UI\n    const [messages, setMessages] = useState<ChatMessageDto[]>([]);\n    const [username, setUsername] = useState('');\n    const [roomId, setRoomId] = useState('');\n    const [roomName, setRoomName] = useState(''); // Для создания\n    const [isInRoom, setIsInRoom] = useState(false);\n    const [inputText, setInputText] = useState('');\n    \n    // Ссылка на div с сообщениями для авто-скролла\n    const messagesEndRef = useRef<HTMLDivElement>(null);\n\n    // 1. Инициализация соединения\n    useEffect(() => {\n        const newConnection = new HubConnectionBuilder()\n            .withUrl(\"http://localhost:5000/chatHub\") // УБЕДИТЕСЬ, ЧТО ПОРТ СОВПАДАЕТ С БЭКЕНДОМ\n            .withAutomaticReconnect()\n            .configureLogging(LogLevel.Information)\n            .build();\n\n        setConnection(newConnection);\n    }, []);\n\n    // 2. Настройка обработчиков событий (при изменении connection)\n    useEffect(() => {\n        if (connection) {\n            connection.start()\n                .then(() => {\n                    console.log('Connected to SignalR Hub');\n                    \n                    // Обработка входящих сообщений\n                    connection.on(\"ReceiveMessage\", (message: ChatMessageDto) => {\n                        setMessages(prev => [...prev, message]);\n                    });\n\n                    // Обработка истории сообщений (при входе)\n                    connection.on(\"ReceiveRoomHistory\", (history: ChatMessageDto[]) => {\n                        setMessages(history);\n                    });\n\n                    // Обработка ошибок\n                    connection.on(\"ReceiveError\", (errorMsg: ChatMessageDto) => {\n                        alert(`Error: ${errorMsg.text}`);\n                        setIsInRoom(false); // Выкидываем обратно в лобби\n                    });\n                })\n                .catch(e => console.log('Connection failed: ', e));\n        }\n    }, [connection]);\n\n    // Авто-скролл вниз при новом сообщении\n    useEffect(() => {\n        messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n    }, [messages]);\n\n    // --- Функции действий ---\n\n    const createRoom = async () => {\n        if (!username) return alert(\"Enter username!\");\n        try {\n            const request: CreateRoomRequest = { username, roomName };\n            // Бэкенд возвращает roomId (строку)\n            const newRoomId = await connection?.invoke(\"CreateRoom\", request);\n            setRoomId(newRoomId);\n            setIsInRoom(true);\n            setMessages([]); // Очистка при новом создании\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n    const joinRoom = async () => {\n        if (!username || !roomId) return alert(\"Enter username and Room ID!\");\n        try {\n            const request: JoinRoomRequest = { username, roomId };\n            // Бэкенд возвращает bool\n            const success = await connection?.invoke(\"JoinRoom\", request);\n            if (success) {\n                setIsInRoom(true);\n            }\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n    const sendMessage = async () => {\n        if (!inputText) return;\n        try {\n            const msg: ChatMessageDto = {\n                user: username,\n                text: inputText,\n                type: 'text',\n                timestamp: '' // Бэкенд сам проставит время\n            };\n            await connection?.invoke(\"SendMessageToRoom\", msg);\n            setInputText('');\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n    const leaveRoom = async () => {\n        try {\n            await connection?.invoke(\"LeaveRoom\");\n            setIsInRoom(false);\n            setMessages([]);\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n    const deleteRoom = async () => {\n        if(!window.confirm(\"Are you sure? Only the creator can delete the room.\")) return;\n        try {\n            await connection?.invoke(\"DeleteRoom\", roomId, username);\n            // Если успех, сервер пришлет всем (включая нас) сообщение System,\n            // а затем удалит из группы.\n            // Но мы можем и принудительно выйти в UI:\n            setIsInRoom(false);\n            setMessages([]);\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n    // --- Рендеринг ---\n\n    return (\n        <div className=\"container mt-5\">\n            {!isInRoom ? (\n                // --- LOBBY SCREEN ---\n                <div className=\"card p-4 mx-auto\" style={{maxWidth: '500px'}}>\n                    <h2 className=\"text-center mb-4\">SignalR Chat</h2>\n                    \n                    <div className=\"mb-3\">\n                        <label className=\"form-label\">Username</label>\n                        <input \n                            className=\"form-control\" \n                            placeholder=\"Enter your name\"\n                            value={username}\n                            onChange={e => setUsername(e.target.value)} \n                        />\n                    </div>\n\n                    <hr />\n\n                    {/* Join Existing */}\n                    <h5>Join Room</h5>\n                    <div className=\"input-group mb-3\">\n                        <input \n                            className=\"form-control\" \n                            placeholder=\"Room ID\"\n                            value={roomId}\n                            onChange={e => setRoomId(e.target.value)}\n                        />\n                        <button className=\"btn btn-primary\" onClick={joinRoom}>Join</button>\n                    </div>\n\n                    <hr />\n\n                    {/* Create New */}\n                    <h5>Create Room</h5>\n                    <div className=\"mb-2\">\n                        <input \n                            className=\"form-control\" \n                            placeholder=\"Room Name (Optional)\"\n                            value={roomName}\n                            onChange={e => setRoomName(e.target.value)}\n                        />\n                    </div>\n                    <button className=\"btn btn-success w-100\" onClick={createRoom}>Create New Room</button>\n                </div>\n            ) : (\n                // --- CHAT ROOM SCREEN ---\n                <div className=\"card mx-auto\" style={{maxWidth: '800px', height: '80vh'}}>\n                    <div className=\"card-header d-flex justify-content-between align-items-center bg-primary text-white\">\n                        <h5 className=\"mb-0\">Room: {roomId}</h5>\n                        <div>\n                            <button className=\"btn btn-sm btn-danger me-2\" onClick={deleteRoom}>Delete Room</button>\n                            <button className=\"btn btn-sm btn-warning\" onClick={leaveRoom}>Leave</button>\n                        </div>\n                    </div>\n                    \n                    <div className=\"card-body overflow-auto d-flex flex-column\" style={{flex: 1, backgroundColor: '#f8f9fa'}}>\n                        {messages.map((msg, idx) => {\n                            const isMyMessage = msg.user === username;\n                            const isSystem = msg.type === 'system' || msg.type === 'join' || msg.type === 'leave';\n\n                            if (isSystem) {\n                                return (\n                                    <div key={idx} className=\"text-center text-muted small my-2\">\n                                        <em>{msg.text} - {msg.timestamp}</em>\n                                    </div>\n                                );\n                            }\n\n                            return (\n                                <div key={idx} className={`d-flex mb-3 ${isMyMessage ? 'justify-content-end' : 'justify-content-start'}`}>\n                                    <div \n                                        className={`card px-3 py-2 ${isMyMessage ? 'bg-primary text-white' : 'bg-white'}`}\n                                        style={{maxWidth: '70%', borderRadius: '15px'}}\n                                    >\n                                        <div className=\"small fw-bold mb-1\" style={{opacity: 0.8}}>{msg.user}</div>\n                                        <div>{msg.text}</div>\n                                        <div className=\"small text-end mt-1\" style={{opacity: 0.7, fontSize: '0.7em'}}>{msg.timestamp}</div>\n                                    </div>\n                                </div>\n                            );\n                        })}\n                        <div ref={messagesEndRef} />\n                    </div>\n\n                    <div className=\"card-footer\">\n                        <div className=\"input-group\">\n                            <input \n                                type=\"text\" \n                                className=\"form-control\"\n                                placeholder=\"Type a message...\"\n                                value={inputText}\n                                onChange={e => setInputText(e.target.value)}\n                                onKeyDown={e => e.key === 'Enter' && sendMessage()}\n                            />\n                            <button className=\"btn btn-primary\" onClick={sendMessage}>Send</button>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}