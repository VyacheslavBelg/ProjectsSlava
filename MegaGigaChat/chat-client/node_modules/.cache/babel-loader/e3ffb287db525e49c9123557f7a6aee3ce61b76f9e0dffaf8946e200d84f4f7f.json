{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\slava\\\\Desktop\\\\\\u0423\\u043D\\u0438\\u0432\\u0435\\u0440\\\\3 \\u043A\\u0443\\u0440\\u0441\\\\RIP\\\\MegaGigaChat\\\\ChatApp2.0\\\\chat-client\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { HubConnectionBuilder, LogLevel } from '@microsoft/signalr';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css'; // –°–æ–∑–¥–∞–¥–∏–º —ç—Ç–æ—Ç —Ñ–∞–π–ª –ø–æ–∑–∂–µ\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  // –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è\n  const [connection, setConnection] = useState(null);\n\n  // –°–æ—Å—Ç–æ—è–Ω–∏–µ UI\n  const [messages, setMessages] = useState([]);\n  const [username, setUsername] = useState('');\n  const [roomId, setRoomId] = useState('');\n  const [roomName, setRoomName] = useState(''); // –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è\n  const [isInRoom, setIsInRoom] = useState(false);\n  const [inputText, setInputText] = useState('');\n  // –•—Ä–∞–Ω–∏–º –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã\n  const [myRooms, setMyRooms] = useState([]);\n  // –§–ª–∞–≥, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å/—Å–∫—Ä—ã–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫\n  const [showRooms, setShowRooms] = useState(false);\n\n  // –°—Å—ã–ª–∫–∞ –Ω–∞ div —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –¥–ª—è –∞–≤—Ç–æ-—Å–∫—Ä–æ–ª–ª–∞\n  const messagesEndRef = useRef(null);\n\n  // 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è\n  useEffect(() => {\n    const newConnection = new HubConnectionBuilder()\n    // üëá –ò–ó–ú–ï–ù–ò–¢–ï –≠–¢–£ –°–¢–†–û–ö–£ (–±—ã–ª–æ 5000, —Å—Ç–∞–ª–æ 5157)\n    .withUrl(\"http://localhost:5157/chatHub\").withAutomaticReconnect().configureLogging(LogLevel.Information).build();\n    setConnection(newConnection);\n  }, []);\n\n  // 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π (–ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ connection)\n  useEffect(() => {\n    if (connection) {\n      connection.start().then(() => {\n        console.log('Connected to SignalR Hub');\n\n        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π\n        connection.on(\"ReceiveMessage\", message => {\n          setMessages(prev => [...prev, message]);\n        });\n\n        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π (–ø—Ä–∏ –≤—Ö–æ–¥–µ)\n        connection.on(\"ReceiveRoomHistory\", history => {\n          setMessages(history);\n        });\n\n        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫\n        connection.on(\"ReceiveError\", errorMsg => {\n          alert(`Error: ${errorMsg.text}`);\n          setIsInRoom(false); // –í—ã–∫–∏–¥—ã–≤–∞–µ–º –æ–±—Ä–∞—Ç–Ω–æ –≤ –ª–æ–±–±–∏\n        });\n      }).catch(e => console.log('Connection failed: ', e));\n    }\n  }, [connection]);\n\n  // –ê–≤—Ç–æ-—Å–∫—Ä–æ–ª–ª –≤–Ω–∏–∑ –ø—Ä–∏ –Ω–æ–≤–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, [messages]);\n\n  // --- –§—É–Ω–∫—Ü–∏–∏ –¥–µ–π—Å—Ç–≤–∏–π ---\n\n  const createRoom = async () => {\n    if (!username) return alert(\"Enter username!\");\n    try {\n      const request = {\n        username,\n        roomName\n      };\n      // –ë—ç–∫–µ–Ω–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç roomId (—Å—Ç—Ä–æ–∫—É)\n      const newRoomId = await (connection === null || connection === void 0 ? void 0 : connection.invoke(\"CreateRoom\", request));\n      setRoomId(newRoomId);\n      setIsInRoom(true);\n      setMessages([]); // –û—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ –Ω–æ–≤–æ–º —Å–æ–∑–¥–∞–Ω–∏–∏\n    } catch (e) {\n      console.error(e);\n    }\n  };\n  const loadUserRooms = async () => {\n    if (!username) return alert(\"Please enter username first!\");\n    try {\n      // 1. –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ ID –∫–æ–º–Ω–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\n      const roomIds = await (connection === null || connection === void 0 ? void 0 : connection.invoke(\"GetUserRoomIds\", username));\n      if (roomIds && roomIds.length > 0) {\n        // 2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ ID –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –¥–µ—Ç–∞–ª–∏ (GetRoomInfo)\n        // Promise.all –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ\n        const roomsData = await Promise.all(roomIds.map(id => connection === null || connection === void 0 ? void 0 : connection.invoke(\"GetRoomInfo\", id)));\n\n        // –§–∏–ª—å—Ç—Ä—É–µ–º null (–µ—Å–ª–∏ –≤–¥—Ä—É–≥ –∫–æ–º–Ω–∞—Ç–∞ –±—ã–ª–∞ —É–¥–∞–ª–µ–Ω–∞)\n        setMyRooms(roomsData.filter(r => r !== null));\n        setShowRooms(true);\n      } else {\n        alert(\"No active rooms found for this user.\");\n        setMyRooms([]);\n      }\n    } catch (e) {\n      console.error(\"Error loading rooms:\", e);\n    }\n  };\n  const joinRoom = async () => {\n    if (!username || !roomId) return alert(\"Enter username and Room ID!\");\n    try {\n      const request = {\n        username,\n        roomId\n      };\n      // –ë—ç–∫–µ–Ω–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç bool\n      const success = await (connection === null || connection === void 0 ? void 0 : connection.invoke(\"JoinRoom\", request));\n      if (success) {\n        setIsInRoom(true);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  };\n  const sendMessage = async () => {\n    if (!inputText) return;\n    try {\n      const msg = {\n        user: username,\n        text: inputText,\n        type: 'text',\n        timestamp: '' // –ë—ç–∫–µ–Ω–¥ —Å–∞–º –ø—Ä–æ—Å—Ç–∞–≤–∏—Ç –≤—Ä–µ–º—è\n      };\n      await (connection === null || connection === void 0 ? void 0 : connection.invoke(\"SendMessageToRoom\", msg));\n      setInputText('');\n    } catch (e) {\n      console.error(e);\n    }\n  };\n  const leaveRoom = async () => {\n    try {\n      await (connection === null || connection === void 0 ? void 0 : connection.invoke(\"LeaveRoom\"));\n      setIsInRoom(false);\n      setMessages([]);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n  const deleteRoom = async () => {\n    if (!window.confirm(\"Are you sure? Only the creator can delete the room.\")) return;\n    try {\n      await (connection === null || connection === void 0 ? void 0 : connection.invoke(\"DeleteRoom\", roomId, username));\n      // –ï—Å–ª–∏ —É—Å–ø–µ—Ö, —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏—à–ª–µ—Ç –≤—Å–µ–º (–≤–∫–ª—é—á–∞—è –Ω–∞—Å) —Å–æ–æ–±—â–µ–Ω–∏–µ System,\n      // –∞ –∑–∞—Ç–µ–º —É–¥–∞–ª–∏—Ç –∏–∑ –≥—Ä—É–ø–ø—ã.\n      // –ù–æ –º—ã –º–æ–∂–µ–º –∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –≤—ã–π—Ç–∏ –≤ UI:\n      setIsInRoom(false);\n      setMessages([]);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  // --- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ ---\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: !isInRoom ?\n    /*#__PURE__*/\n    // --- LOBBY SCREEN ---\n    _jsxDEV(\"div\", {\n      className: \"card p-4 mx-auto\",\n      style: {\n        maxWidth: '500px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center mb-4\",\n        children: \"SignalR Chat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          placeholder: \"Enter your name\",\n          value: username,\n          onChange: e => setUsername(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Join Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          placeholder: \"Room ID\",\n          value: roomId,\n          onChange: e => setRoomId(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: joinRoom,\n          children: \"Join\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Create Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          placeholder: \"Room Name (Optional)\",\n          value: roomName,\n          onChange: e => setRoomName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-success w-100\",\n        onClick: createRoom,\n        children: \"Create New Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 17\n    }, this) :\n    /*#__PURE__*/\n    // --- CHAT ROOM SCREEN ---\n    _jsxDEV(\"div\", {\n      className: \"card mx-auto\",\n      style: {\n        maxWidth: '800px',\n        height: '80vh'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header d-flex justify-content-between align-items-center bg-primary text-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"mb-0\",\n          children: [\"Room: \", roomId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-sm btn-danger me-2\",\n            onClick: deleteRoom,\n            children: \"Delete Room\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-sm btn-warning\",\n            onClick: leaveRoom,\n            children: \"Leave\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body overflow-auto d-flex flex-column\",\n        style: {\n          flex: 1,\n          backgroundColor: '#f8f9fa'\n        },\n        children: [messages.map((msg, idx) => {\n          const isMyMessage = msg.user === username;\n          const isSystem = msg.type === 'system' || msg.type === 'join' || msg.type === 'leave';\n          if (isSystem) {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center text-muted small my-2\",\n              children: /*#__PURE__*/_jsxDEV(\"em\", {\n                children: [msg.text, \" - \", msg.timestamp]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 41\n              }, this)\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 37\n            }, this);\n          }\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `d-flex mb-3 ${isMyMessage ? 'justify-content-end' : 'justify-content-start'}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `card px-3 py-2 ${isMyMessage ? 'bg-primary text-white' : 'bg-white'}`,\n              style: {\n                maxWidth: '70%',\n                borderRadius: '15px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"small fw-bold mb-1\",\n                style: {\n                  opacity: 0.8\n                },\n                children: msg.user\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: msg.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"small text-end mt-1\",\n                style: {\n                  opacity: 0.7,\n                  fontSize: '0.7em'\n                },\n                children: msg.timestamp\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 37\n            }, this)\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 33\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-footer\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"Type a message...\",\n            value: inputText,\n            onChange: e => setInputText(e.target.value),\n            onKeyDown: e => e.key === 'Enter' && sendMessage()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: sendMessage,\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 9\n  }, this);\n};\n_s(App, \"8UYI0Ggt7IvjPGh2Bftr2E830fY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","HubConnectionBuilder","LogLevel","jsxDEV","_jsxDEV","App","_s","connection","setConnection","messages","setMessages","username","setUsername","roomId","setRoomId","roomName","setRoomName","isInRoom","setIsInRoom","inputText","setInputText","myRooms","setMyRooms","showRooms","setShowRooms","messagesEndRef","newConnection","withUrl","withAutomaticReconnect","configureLogging","Information","build","start","then","console","log","on","message","prev","history","errorMsg","alert","text","catch","e","_messagesEndRef$curre","current","scrollIntoView","behavior","createRoom","request","newRoomId","invoke","error","loadUserRooms","roomIds","length","roomsData","Promise","all","map","id","filter","r","joinRoom","success","sendMessage","msg","user","type","timestamp","leaveRoom","deleteRoom","window","confirm","className","children","style","maxWidth","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","target","onClick","height","flex","backgroundColor","idx","isMyMessage","isSystem","borderRadius","opacity","fontSize","ref","onKeyDown","key","_c","$RefreshReg$"],"sources":["C:/Users/slava/Desktop/–£–Ω–∏–≤–µ—Ä/3 –∫—É—Ä—Å/RIP/MegaGigaChat/ChatApp2.0/chat-client/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { HubConnection, HubConnectionBuilder, LogLevel } from '@microsoft/signalr';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css'; // –°–æ–∑–¥–∞–¥–∏–º —ç—Ç–æ—Ç —Ñ–∞–π–ª –ø–æ–∑–∂–µ\nimport { ChatMessageDto, CreateRoomRequest, JoinRoomRequest } from './types';\n\nconst App: React.FC = () => {\n    // –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è\n    const [connection, setConnection] = useState<HubConnection | null>(null);\n    \n    // –°–æ—Å—Ç–æ—è–Ω–∏–µ UI\n    const [messages, setMessages] = useState<ChatMessageDto[]>([]);\n    const [username, setUsername] = useState('');\n    const [roomId, setRoomId] = useState('');\n    const [roomName, setRoomName] = useState(''); // –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è\n    const [isInRoom, setIsInRoom] = useState(false);\n    const [inputText, setInputText] = useState('');\n    // –•—Ä–∞–Ω–∏–º –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã\n    const [myRooms, setMyRooms] = useState<any[]>([]); \n    // –§–ª–∞–≥, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å/—Å–∫—Ä—ã–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫\n    const [showRooms, setShowRooms] = useState(false)\n    \n    // –°—Å—ã–ª–∫–∞ –Ω–∞ div —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –¥–ª—è –∞–≤—Ç–æ-—Å–∫—Ä–æ–ª–ª–∞\n    const messagesEndRef = useRef<HTMLDivElement>(null);\n\n    // 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è\n    useEffect(() => {\n        const newConnection = new HubConnectionBuilder()\n            // üëá –ò–ó–ú–ï–ù–ò–¢–ï –≠–¢–£ –°–¢–†–û–ö–£ (–±—ã–ª–æ 5000, —Å—Ç–∞–ª–æ 5157)\n            .withUrl(\"http://localhost:5157/chatHub\") \n            .withAutomaticReconnect()\n            .configureLogging(LogLevel.Information)\n            .build();\n\n        setConnection(newConnection);\n    }, []);\n\n    // 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π (–ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ connection)\n    useEffect(() => {\n        if (connection) {\n            connection.start()\n                .then(() => {\n                    console.log('Connected to SignalR Hub');\n                    \n                    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π\n                    connection.on(\"ReceiveMessage\", (message: ChatMessageDto) => {\n                        setMessages(prev => [...prev, message]);\n                    });\n\n                    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π (–ø—Ä–∏ –≤—Ö–æ–¥–µ)\n                    connection.on(\"ReceiveRoomHistory\", (history: ChatMessageDto[]) => {\n                        setMessages(history);\n                    });\n\n                    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫\n                    connection.on(\"ReceiveError\", (errorMsg: ChatMessageDto) => {\n                        alert(`Error: ${errorMsg.text}`);\n                        setIsInRoom(false); // –í—ã–∫–∏–¥—ã–≤–∞–µ–º –æ–±—Ä–∞—Ç–Ω–æ –≤ –ª–æ–±–±–∏\n                    });\n                })\n                .catch(e => console.log('Connection failed: ', e));\n        }\n    }, [connection]);\n\n    // –ê–≤—Ç–æ-—Å–∫—Ä–æ–ª–ª –≤–Ω–∏–∑ –ø—Ä–∏ –Ω–æ–≤–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏\n    useEffect(() => {\n        messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n    }, [messages]);\n\n    // --- –§—É–Ω–∫—Ü–∏–∏ –¥–µ–π—Å—Ç–≤–∏–π ---\n\n    \n    const createRoom = async () => {\n        if (!username) return alert(\"Enter username!\");\n        try {\n            const request: CreateRoomRequest = { username, roomName };\n            // –ë—ç–∫–µ–Ω–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç roomId (—Å—Ç—Ä–æ–∫—É)\n            const newRoomId = await connection?.invoke(\"CreateRoom\", request);\n            setRoomId(newRoomId);\n            setIsInRoom(true);\n            setMessages([]); // –û—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ –Ω–æ–≤–æ–º —Å–æ–∑–¥–∞–Ω–∏–∏\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n    const loadUserRooms = async () => {\n        if (!username) return alert(\"Please enter username first!\");\n\n        try {\n            // 1. –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ ID –∫–æ–º–Ω–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\n            const roomIds: string[] = await connection?.invoke(\"GetUserRoomIds\", username);\n\n            if (roomIds && roomIds.length > 0) {\n                // 2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ ID –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –¥–µ—Ç–∞–ª–∏ (GetRoomInfo)\n                // Promise.all –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ\n                const roomsData = await Promise.all(\n                    roomIds.map(id => connection?.invoke(\"GetRoomInfo\", id))\n                );\n\n                // –§–∏–ª—å—Ç—Ä—É–µ–º null (–µ—Å–ª–∏ –≤–¥—Ä—É–≥ –∫–æ–º–Ω–∞—Ç–∞ –±—ã–ª–∞ —É–¥–∞–ª–µ–Ω–∞)\n                setMyRooms(roomsData.filter(r => r !== null));\n                setShowRooms(true);\n            } else {\n                alert(\"No active rooms found for this user.\");\n                setMyRooms([]);\n            }\n        } catch (e) {\n            console.error(\"Error loading rooms:\", e);\n        }\n    };\n\n    const joinRoom = async () => {\n        if (!username || !roomId) return alert(\"Enter username and Room ID!\");\n        try {\n            const request: JoinRoomRequest = { username, roomId };\n            // –ë—ç–∫–µ–Ω–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç bool\n            const success = await connection?.invoke(\"JoinRoom\", request);\n            if (success) {\n                setIsInRoom(true);\n            }\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n    const sendMessage = async () => {\n        if (!inputText) return;\n        try {\n            const msg: ChatMessageDto = {\n                user: username,\n                text: inputText,\n                type: 'text',\n                timestamp: '' // –ë—ç–∫–µ–Ω–¥ —Å–∞–º –ø—Ä–æ—Å—Ç–∞–≤–∏—Ç –≤—Ä–µ–º—è\n            };\n            await connection?.invoke(\"SendMessageToRoom\", msg);\n            setInputText('');\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n    const leaveRoom = async () => {\n        try {\n            await connection?.invoke(\"LeaveRoom\");\n            setIsInRoom(false);\n            setMessages([]);\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n    const deleteRoom = async () => {\n        if(!window.confirm(\"Are you sure? Only the creator can delete the room.\")) return;\n        try {\n            await connection?.invoke(\"DeleteRoom\", roomId, username);\n            // –ï—Å–ª–∏ —É—Å–ø–µ—Ö, —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏—à–ª–µ—Ç –≤—Å–µ–º (–≤–∫–ª—é—á–∞—è –Ω–∞—Å) —Å–æ–æ–±—â–µ–Ω–∏–µ System,\n            // –∞ –∑–∞—Ç–µ–º —É–¥–∞–ª–∏—Ç –∏–∑ –≥—Ä—É–ø–ø—ã.\n            // –ù–æ –º—ã –º–æ–∂–µ–º –∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –≤—ã–π—Ç–∏ –≤ UI:\n            setIsInRoom(false);\n            setMessages([]);\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n    // --- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ ---\n\n    return (\n        <div className=\"container mt-5\">\n            {!isInRoom ? (\n                // --- LOBBY SCREEN ---\n                <div className=\"card p-4 mx-auto\" style={{maxWidth: '500px'}}>\n                    <h2 className=\"text-center mb-4\">SignalR Chat</h2>\n                    \n                    <div className=\"mb-3\">\n                        <label className=\"form-label\">Username</label>\n                        <input \n                            className=\"form-control\" \n                            placeholder=\"Enter your name\"\n                            value={username}\n                            onChange={e => setUsername(e.target.value)} \n                        />\n                    </div>\n\n                    <hr />\n\n                    {/* Join Existing */}\n                    <h5>Join Room</h5>\n                    <div className=\"input-group mb-3\">\n                        <input \n                            className=\"form-control\" \n                            placeholder=\"Room ID\"\n                            value={roomId}\n                            onChange={e => setRoomId(e.target.value)}\n                        />\n                        <button className=\"btn btn-primary\" onClick={joinRoom}>Join</button>\n                    </div>\n\n                    <hr />\n\n                    {/* Create New */}\n                    <h5>Create Room</h5>\n                    <div className=\"mb-2\">\n                        <input \n                            className=\"form-control\" \n                            placeholder=\"Room Name (Optional)\"\n                            value={roomName}\n                            onChange={e => setRoomName(e.target.value)}\n                        />\n                    </div>\n                    <button className=\"btn btn-success w-100\" onClick={createRoom}>Create New Room</button>\n                </div>\n            ) : (\n                // --- CHAT ROOM SCREEN ---\n                <div className=\"card mx-auto\" style={{maxWidth: '800px', height: '80vh'}}>\n                    <div className=\"card-header d-flex justify-content-between align-items-center bg-primary text-white\">\n                        <h5 className=\"mb-0\">Room: {roomId}</h5>\n                        <div>\n                            <button className=\"btn btn-sm btn-danger me-2\" onClick={deleteRoom}>Delete Room</button>\n                            <button className=\"btn btn-sm btn-warning\" onClick={leaveRoom}>Leave</button>\n                        </div>\n                    </div>\n                    \n                    <div className=\"card-body overflow-auto d-flex flex-column\" style={{flex: 1, backgroundColor: '#f8f9fa'}}>\n                        {messages.map((msg, idx) => {\n                            const isMyMessage = msg.user === username;\n                            const isSystem = msg.type === 'system' || msg.type === 'join' || msg.type === 'leave';\n\n                            if (isSystem) {\n                                return (\n                                    <div key={idx} className=\"text-center text-muted small my-2\">\n                                        <em>{msg.text} - {msg.timestamp}</em>\n                                    </div>\n                                );\n                            }\n\n                            return (\n                                <div key={idx} className={`d-flex mb-3 ${isMyMessage ? 'justify-content-end' : 'justify-content-start'}`}>\n                                    <div \n                                        className={`card px-3 py-2 ${isMyMessage ? 'bg-primary text-white' : 'bg-white'}`}\n                                        style={{maxWidth: '70%', borderRadius: '15px'}}\n                                    >\n                                        <div className=\"small fw-bold mb-1\" style={{opacity: 0.8}}>{msg.user}</div>\n                                        <div>{msg.text}</div>\n                                        <div className=\"small text-end mt-1\" style={{opacity: 0.7, fontSize: '0.7em'}}>{msg.timestamp}</div>\n                                    </div>\n                                </div>\n                            );\n                        })}\n                        <div ref={messagesEndRef} />\n                    </div>\n\n                    <div className=\"card-footer\">\n                        <div className=\"input-group\">\n                            <input \n                                type=\"text\" \n                                className=\"form-control\"\n                                placeholder=\"Type a message...\"\n                                value={inputText}\n                                onChange={e => setInputText(e.target.value)}\n                                onKeyDown={e => e.key === 'Enter' && sendMessage()}\n                            />\n                            <button className=\"btn btn-primary\" onClick={sendMessage}>Send</button>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}